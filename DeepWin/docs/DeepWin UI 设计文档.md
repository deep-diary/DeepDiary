# DeepWin UI 设计文档

## 1. 引言

### 1.1 编写目的

本文档旨在详细描述 DeepWin 桌面应用程序的用户界面（UI）设计，为 UI/UX 设计师、前端开发人员和 AI 辅助设计工具（如 Cursor）提供清晰的视觉和交互指南。本设计将重点突出基于 PySide6-Fluent-Widgets 框架的 Fluent Design 风格，确保应用程序的现代化、流畅和一致性。

### 1.2 目标读者

- UI/UX 设计师
- 前端开发工程师
- 产品经理
- AI 辅助设计工具

### 1.3 UI 框架与参考

DeepWin 的 UI 将基于 **PySide6-Fluent-Widgets** 框架进行开发。

- **PySide6-Fluent-Widgets GitHub 仓库**：https://github.com/zhiyiYo/PySide6-Fluent-Widgets
- **参考设计风格**：Microsoft Fluent Design System。

通过利用 PySide6-Fluent-Widgets，我们将能够快速构建具有以下特点的 UI：

- **现代化**：采用 WinUI 3 和 Windows 11 的视觉风格，提供清新、简洁的界面。
- **交互流畅**：具备亚克力（Acrylic）效果、 Mica 效果、阴影、动画等视觉元素，增强交互的流畅感。
- **响应式**：组件和布局能够适应不同窗口大小和分辨率。
- **组件丰富**：提供大量预构建的、符合 Fluent Design 的 UI 组件。

## 2. 总体 UI 布局原则

### 2.1 设计理念

DeepWin 的 UI 设计将遵循以下原则：

- **直观易用**：核心功能清晰可见，操作流程简洁明了，降低用户学习成本。
- **信息层次**：合理组织信息，通过视觉元素（如字体大小、颜色、间距、卡片）区分信息层级。
- **上下文感知**：在不同功能模块之间提供流畅的切换体验，并尽可能根据用户当前情境提供相关信息。
- **美观与现代**：充分利用 Fluent Design 的视觉特性，如 Mica、Acrylic、Reveal 效果，打造美观大方的界面。
- **反馈及时**：用户操作后，及时给出视觉或听觉反馈，增强交互感。
- **可定制性**：支持主题切换（明亮/黑暗模式），部分布局和显示内容可由用户配置。

### 2.2 主窗口结构

DeepWin 主窗口将采用常见的**侧边导航 + 内容区**布局，配合顶部标题栏和底部状态栏。

- **标题栏 (Title Bar)**：
  - **位置**：窗口顶部。
  - **内容**：应用程序图标、应用名称（DeepWin）、窗口控制按钮（最小化、最大化、关闭）。
  - **设计**：可采用 Mica 效果，与系统主题融合。
- **导航栏 (Navigation Bar / NavigationView)**：
  - **位置**：窗口左侧（可折叠/展开）。
  - **组件**：使用 `NavigationView` 或 `NavigationPanel` 组件。
  - **内容**：主要功能模块的图标和名称，例如：
    - 记忆管理 (Memory)
    - 设备控制 (Devices)
    - 资源与需求 (Resources & Demands)
    - 设置 (Settings)
    - 日志 (Logs)
  - **设计**：支持点击切换内容区视图，当前选中项有高亮指示。可设置 Acrylic 效果。
- **内容区 (Content Area)**：
  - **位置**：窗口右侧，占据大部分空间。
  - **内容**：根据导航栏选择的模块显示对应的功能界面。
  - **设计**：简洁、清晰，重点突出内容，支持流畅的过渡动画。
- **状态栏 (Status Bar)**：
  - **位置**：窗口底部。
  - **内容**：显示应用程序的当前状态（如“已连接到 DeepServer”、“正在同步数据”、“设备 DeepArm 在线”）、通知图标等。
  - **设计**：简洁，提供关键信息。

## 3. 核心功能模块 UI 设计

### 3.1 记忆管理界面 (Memory Management View)

- **目标**：提供一个统一的界面来浏览、搜索和管理用户的多模态记忆（照片、视频、日记、聊天记录、GPS 轨迹）。
- **布局**：
  - **顶部**：搜索框（支持自然语言搜索）、筛选器（按类型、时间、人物、地点、标签）、排序选项。
  - **主内容区**：
    - 默认展示为**时间轴或网格视图**：将所有记忆（照片、视频缩略图、日记卡片、聊天摘要等）按时间顺序排列或以网格形式展示。
    - 可切换视图：
      - **照片/视频墙**：以网格形式展示所有照片和视频缩略图，支持无限滚动加载。点击缩略图可进入全屏查看或播放。
      - **日记列表**：日记条目列表，显示标题、日期、摘要。点击进入日记详情编辑页。
      - **聊天记录列表**：按联系人分组的聊天记录摘要。点击进入聊天详情页。
      - **GPS 轨迹地图**：集成地图组件，展示轨迹线，可点击轨迹点查看相关记忆。
  - **侧边栏（可选）**：用于显示筛选条件、标签云、人物列表等。
- **关键组件**：`GridView` 或 `ListView` 用于展示记忆列表，`SearchBox`，`ComboBox` (用于筛选/排序)，`CalendarPicker` (用于日期筛选)。
- **交互**：
  - 鼠标悬停在照片/视频缩略图上显示简要信息或预览。
  - 右键菜单提供更多操作（编辑、删除、同步、添加标签、标注人脸等）。
  - 拖拽本地文件到界面指定区域进行导入。

### 3.2 设备控制界面 (Device Control View)

- **目标**：直观展示 DeepDevice 设备状态，并提供远程控制和本地调试功能。
- **布局**：
  - **左侧面板**：设备列表（使用 `TreeView` 或 `ListView`），显示已连接/未连接的 DeepArm、DeepToy 等设备。每个设备旁有连接状态指示灯。
  - **右侧内容区**：
    - **设备概览卡片**：显示选中设备的名称、类型、序列号、固件版本、最后活跃时间。
    - **状态监控区**：实时图表展示关键传感器数据（如机械臂关节角度、温度、电流），或以数字形式显示 DeepToy 的 IO 状态。可使用 `PlotView` 或 `Chart` 组件。
    - **控制面板**：
      - **DeepArm**：提供滑块或输入框控制每个关节的角度，或输入 XYZ 坐标控制末端位置。包含“启动/停止”、“示教模式”、“执行轨迹”、“回零”等按钮。
      - **DeepToy**：提供开关、滑块控制外设（如舵机 PWM、IO 输出），显示输入状态。
      - **指令输入/输出控制台**：一个可滚动的文本区域，用于显示设备原始通信日志和用户发送的自定义指令。
- **关键组件**：`ListView`，`Card`, `ProgressBar` (表示设备状态)，`Slider`，`Button`，`TextBox`，`PlotView`。
- **交互**：
  - 点击设备列表中的设备项，右侧内容区更新为该设备的详细信息和控制面板。
  - 控制按钮有按下/释放状态反馈。
  - 示教模式下，UI 会指示当前正在录制轨迹。

### 3.3 资源/需求管理界面 (Resource & Demand View)

- **目标**：管理用户的资源和需求，并展示智能匹配结果。
- **布局**：
  - **顶部**：筛选器（按资源类型、需求类型、是否付费、匹配度），搜索框。
  - **左侧/顶部选项卡**：
    - **“我的资源”**：列表显示用户拥有的资源（技能、物品等）。
    - **“我的需求”**：列表显示用户提出的需求。
    - **“匹配建议”**：列表展示 DeepServer 推荐的资源或需求匹配项。
  - **主内容区**：
    - 列表展示选中项的详细信息（名称、描述、价格/预算、标签、创建时间）。
    - 匹配建议列表项应包含匹配度评分和关联的用户/资源/需求信息。
  - **右侧/底部操作区**：用于添加、编辑、删除资源/需求的按钮。
- **关键组件**：`Pivot` (选项卡)，`ListView`，`TextBox`，`Button`，`ProgressBar` (匹配度)。
- **交互**：
  - 点击列表项查看详情。
  - 匹配建议项可点击查看匹配详情，并提供“联系”或“忽略”按钮。

### 3.4 设置界面 (Settings View)

- **目标**：管理 DeepWin 的各项配置，包括账户、同步、本地目录和通用设置。
- **布局**：
  - **左侧导航栏**：设置分类列表（如“账户”、“数据同步”、“存储路径”、“外观与主题”、“关于”）。
  - **右侧内容区**：根据左侧选择显示对应的设置表单。
- **关键组件**：`ListView` (设置导航)，`ToggleSwitch` (开关)，`Slider`，`TextBox`，`ComboBox`，`FolderPickerButton`。
- **交互**：
  - 设置项的更改应实时生效或在用户点击“保存”后生效。
  - 提供清晰的设置项描述和帮助信息。

### 3.5 日志显示界面 (Log Viewer View)

- **目标**：实时显示应用程序运行日志，便于开发和调试。
- **布局**：
  - **顶部**：日志级别过滤器（INFO, WARNING, ERROR等），搜索框，清空日志按钮，导出日志按钮。
  - **主内容区**：一个可滚动的文本区域，实时显示日志输出。
- **关键组件**：`ComboBox` (过滤器)，`SearchBox`，`Button`，`TextEdit` (日志显示)。
- **交互**：
  - 自动滚动到最新日志。
  - 日志行可根据级别进行颜色高亮。

## 4. 视觉风格与组件应用

DeepWin UI 将严格遵循 Fluent Design 风格，并充分利用 PySide6-Fluent-Widgets 提供的组件和效果。

- **Mica / Acrylic 效果**：在主窗口背景、导航栏和部分浮层中使用 Mica 或 Acrylic 效果，增强视觉深度和层次感。
- **圆角与阴影**：广泛应用圆角于按钮、卡片、输入框等元素，并适当添加阴影，提升现代感和立体感。
- **色彩**：使用 Fluent Design 推荐的色板，支持明亮和黑暗主题的平滑切换。强调色用于高亮选中项、重要操作等。
- **排版**：采用清晰、简洁的字体（如 Segoe UI 或系统默认字体），保持合适的字号和行距，确保文本可读性。
- **图标**：使用简洁、矢量化的图标，与 Fluent Design 风格保持一致。
- **动画**：在窗口切换、内容加载、按钮点击等交互中，融入流畅、自然的动画效果，提升用户体验。
- **响应式布局**：确保在窗口大小变化时，界面元素能够自适应调整布局，保持良好的可用性。

## 5. 总结

本文档为 DeepWin 桌面应用程序提供了一份详细的 UI 设计指南，明确了整体布局原则、核心功能模块的界面设计以及视觉风格和组件应用。通过遵循本设计，并结合 PySide6-Fluent-Widgets 框架的强大能力，我们将能够打造一个既美观又实用，且能够承载未来智能体功能的 DeepWin 应用程序。这份文档将作为 UI 开发和 AI 设计图生成的重要参考。
